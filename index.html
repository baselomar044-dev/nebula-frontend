<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0a0a1a">
  <title>âœ¨ Nebula AI</title>
  <link rel="icon" type="image/svg+xml" href="/assets/icon.svg">
  <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
  <div id="app">
    <!-- Left Panel Toggle -->
    <button class="panel-toggle left-toggle" id="leftToggle" title="Files & Projects">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
      </svg>
    </button>

    <!-- Right Panel Toggle -->
    <button class="panel-toggle right-toggle" id="rightToggle" title="Live Preview">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
        <line x1="8" y1="21" x2="16" y2="21"/>
        <line x1="12" y1="17" x2="12" y2="21"/>
      </svg>
    </button>

    <!-- LEFT PANEL - Files & Projects -->
    <aside class="side-panel left-panel" id="leftPanel">
      <div class="panel-header">
        <h2>ğŸ“ Files</h2>
        <button class="panel-close" id="leftClose">Ã—</button>
      </div>
      <div class="panel-content">
        <!-- Project Selector -->
        <div class="project-selector">
          <select id="projectSelect">
            <option value="">Select Project...</option>
          </select>
          <button class="btn-icon" id="newProjectBtn" title="New Project">+</button>
        </div>
        
        <!-- File Tree -->
        <div class="file-tree" id="fileTree">
          <div class="empty-state">No project selected</div>
        </div>
        
        <!-- File Actions -->
        <div class="file-actions">
          <button class="btn-small" id="newFileBtn">+ File</button>
          <button class="btn-small" id="newFolderBtn">+ Folder</button>
        </div>
      </div>
    </aside>

    <!-- MAIN - AI Chat -->
    <main class="main-chat" id="mainChat">
      <!-- Header -->
      <header class="chat-header">
        <div class="logo">âœ¨ <span>Nebula AI</span></div>
        <div class="header-actions">
          <select id="modelSelect" class="model-select">
            <option value="auto">ğŸ¤– Auto</option>
            <option value="claude">Claude 3.5</option>
            <option value="gpt4">GPT-4o</option>
            <option value="gemini">Gemini Pro</option>
            <option value="groq">Groq (Fast)</option>
          </select>
        </div>
      </header>

      <!-- Messages -->
      <div class="messages-container" id="messagesContainer">
        <div class="welcome-message">
          <div class="welcome-icon">âœ¨</div>
          <h1>Welcome to Nebula AI</h1>
          <p>Your ultra-fast AI coding assistant. Ask me anything!</p>
          <div class="quick-actions">
            <button class="quick-btn" data-prompt="Create a React component">âš›ï¸ React Component</button>
            <button class="quick-btn" data-prompt="Build an API endpoint">ğŸ”Œ API Endpoint</button>
            <button class="quick-btn" data-prompt="Write a Python script">ğŸ Python Script</button>
            <button class="quick-btn" data-prompt="Create an HTML page">ğŸŒ HTML Page</button>
          </div>
        </div>
      </div>

      <!-- Input Area -->
      <div class="input-area">
        <div class="input-container">
          <textarea 
            id="messageInput" 
            placeholder="Ask Nebula anything... (Shift+Enter for new line)"
            rows="1"
          ></textarea>
          <button class="send-btn" id="sendBtn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"/>
              <polygon points="22 2 15 22 11 13 2 9 22 2"/>
            </svg>
          </button>
        </div>
        <div class="input-hint">Press Enter to send â€¢ Shift+Enter for new line</div>
      </div>
    </main>

    <!-- RIGHT PANEL - Live Preview -->
    <aside class="side-panel right-panel" id="rightPanel">
      <div class="panel-header">
        <h2>ğŸ‘ï¸ Live Preview</h2>
        <div class="preview-actions">
          <button class="btn-icon" id="refreshPreview" title="Refresh">â†»</button>
          <button class="btn-icon" id="openExternal" title="Open in new tab">â†—</button>
          <button class="panel-close" id="rightClose">Ã—</button>
        </div>
      </div>
      <div class="panel-content preview-content">
        <div class="preview-toolbar">
          <button class="device-btn active" data-width="100%">ğŸ’»</button>
          <button class="device-btn" data-width="768px">ğŸ“±</button>
          <button class="device-btn" data-width="375px">ğŸ“±</button>
        </div>
        <div class="preview-frame-container" id="previewContainer">
          <iframe id="previewFrame" sandbox="allow-scripts allow-same-origin"></iframe>
          <div class="preview-empty" id="previewEmpty">
            <div class="preview-empty-icon">ğŸ‘ï¸</div>
            <p>Live preview will appear here</p>
            <small>Generate HTML/CSS/JS to see it live</small>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <!-- Code Editor Modal -->
  <div class="modal" id="codeModal">
    <div class="modal-content code-modal">
      <div class="modal-header">
        <span id="codeModalTitle">Code</span>
        <div class="modal-actions">
          <button class="btn-small" id="copyCodeBtn">ğŸ“‹ Copy</button>
          <button class="btn-small" id="previewCodeBtn">ğŸ‘ï¸ Preview</button>
          <button class="modal-close" id="codeModalClose">Ã—</button>
        </div>
      </div>
      <pre id="codeContent"><code></code></pre>
    </div>
  </div>

  <!-- New Project Modal -->
  <div class="modal" id="projectModal">
    <div class="modal-content">
      <div class="modal-header">
        <span>New Project</span>
        <button class="modal-close" id="projectModalClose">Ã—</button>
      </div>
      <div class="modal-body">
        <input type="text" id="projectNameInput" placeholder="Project name..." class="modal-input">
        <button class="btn-primary" id="createProjectBtn">Create Project</button>
      </div>
    </div>
  </div>

  <script src="/config.js"></script>
  <script src="/utils/api.js"></script>
  <script src="/app.js"></script>
</body>
</html>
