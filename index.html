<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Mobile Header -->
  <header class="mobile-header">
    <button class="mobile-btn" onclick="toggleFiles()">‚ò∞</button>
    <span class="logo">AI</span>
    <div class="mobile-actions">
      <button class="mobile-btn" onclick="openSettings()">‚öô</button>
      <button class="mobile-btn" onclick="togglePreview()">‚óß</button>
    </div>
  </header>

  <!-- Desktop Header -->
  <header class="desktop-header">
    <div class="header-left">
      <button class="header-btn" onclick="toggleFiles()" title="Files">‚ò∞</button>
      <span class="logo">AI</span>
    </div>
    <div class="header-center">
      <select id="providerSelect" onchange="updateModelOptions()">
        <option value="anthropic">Claude</option>
        <option value="openai">OpenAI</option>
        <option value="groq" selected>Groq</option>
        <option value="gemini">Gemini</option>
      </select>
      <select id="modelSelect"></select>
      <label class="auto-label"><input type="checkbox" id="autoModel" checked> Auto</label>
    </div>
    <div class="header-right">
      <button class="header-btn" onclick="importProject()" title="Import">‚Üì</button>
      <button class="header-btn" onclick="exportProject()" title="Export">‚Üë</button>
      <button class="header-btn" onclick="deployProject()" title="Deploy">‚ö°</button>
      <button class="header-btn" onclick="openSettings()" title="Settings">‚öô</button>
      <button class="header-btn" onclick="togglePreview()" title="Preview">‚óß</button>
    </div>
  </header>

  <!-- Overlay for mobile -->
  <div id="overlay" onclick="closeAllPanels()"></div>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Files Panel -->
    <aside id="filesPanel" class="panel files-panel">
      <div class="panel-header">
        <span>Files</span>
        <button class="close-btn" onclick="toggleFiles()">‚úï</button>
      </div>
      <div class="panel-actions">
        <button onclick="createFile()">+ New File</button>
        <button onclick="importFromGit()">‚éá Git Import</button>
      </div>
      <div id="filesList" class="files-list"></div>
    </aside>

    <!-- Chat Area -->
    <main class="chat-area">
      <div id="chatMessages" class="chat-messages">
        <div class="welcome-msg">
          <h2>üëã Welcome to AI</h2>
          <p>Build anything. Ask me to create apps, websites, or help with code.</p>
        </div>
      </div>
      <div class="chat-input-area">
        <div class="input-row">
          <button class="attach-btn" onclick="attachFile()" title="Attach">üìé</button>
          <textarea id="userInput" placeholder="Ask AI to build something..." rows="1" onkeydown="handleKey(event)"></textarea>
          <button class="send-btn" onclick="sendMessage()" id="sendBtn">‚û§</button>
        </div>
      </div>
    </main>

    <!-- Preview Panel -->
    <aside id="previewPanel" class="panel preview-panel">
      <div class="panel-header">
        <span>Preview</span>
        <div class="preview-actions">
          <button onclick="toggleExpandPreview()" title="Expand">‚õ∂</button>
          <button onclick="refreshPreview()" title="Refresh">‚Üª</button>
          <button class="close-btn" onclick="togglePreview()">‚úï</button>
        </div>
      </div>
      <div class="preview-tabs">
        <button class="tab active" onclick="setPreviewTab('live')">Live</button>
        <button class="tab" onclick="setPreviewTab('html')">HTML</button>
        <button class="tab" onclick="setPreviewTab('css')">CSS</button>
        <button class="tab" onclick="setPreviewTab('js')">JS</button>
        <button class="tab" onclick="setPreviewTab('console')">Console</button>
      </div>
      <div id="previewContent" class="preview-content">
        <iframe id="previewFrame" sandbox="allow-scripts allow-modals"></iframe>
        <pre id="codeView" class="code-view hidden"></pre>
        <div id="consoleView" class="console-view hidden"></div>
      </div>
    </aside>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Settings</h3>
        <button onclick="closeSettings()">‚úï</button>
      </div>
      <div class="modal-body">
        <label>GitHub Token (for Git features):</label>
        <input type="password" id="githubToken" placeholder="ghp_...">
        
        <label>Default Provider:</label>
        <select id="defaultProvider">
          <option value="groq">Groq (Fast)</option>
          <option value="anthropic">Claude (Smart)</option>
          <option value="openai">OpenAI</option>
          <option value="gemini">Gemini</option>
        </select>
        
        <label>Theme:</label>
        <select id="themeSelect">
          <option value="dark">Dark</option>
          <option value="light">Light</option>
        </select>
      </div>
      <div class="modal-footer">
        <button onclick="saveSettings()">Save</button>
        <button onclick="closeSettings()" class="secondary">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Import Modal -->
  <div id="importModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Import Project</h3>
        <button onclick="closeImportModal()">‚úï</button>
      </div>
      <div class="modal-body">
        <label>Import from:</label>
        <div class="import-options">
          <button onclick="importFromFile()">üìÅ Local Files</button>
          <button onclick="showGitImport()">‚éá GitHub URL</button>
          <button onclick="importFromZip()">üì¶ ZIP File</button>
        </div>
        <div id="gitImportSection" class="hidden">
          <label>GitHub Repository URL:</label>
          <input type="text" id="gitUrl" placeholder="https://github.com/user/repo">
          <button onclick="doGitImport()">Import</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Deploy Modal -->
  <div id="deployModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Deploy Project</h3>
        <button onclick="closeDeployModal()">‚úï</button>
      </div>
      <div class="modal-body">
        <label>Deploy to:</label>
        <div class="deploy-options">
          <button onclick="deployToNetlify()">‚ñ≤ Netlify</button>
          <button onclick="deployToVercel()">‚ñ≤ Vercel</button>
          <button onclick="deployToGithub()">‚éá GitHub Pages</button>
        </div>
        <div id="deployStatus" class="deploy-status"></div>
      </div>
    </div>
  </div>

  <input type="file" id="fileInput" multiple hidden onchange="handleFileUpload(event)">
  <input type="file" id="zipInput" accept=".zip" hidden onchange="handleZipUpload(event)">
  
  <script src="app.js"></script>
</body>
</html>
