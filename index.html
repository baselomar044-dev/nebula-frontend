<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Files Panel (Left) -->
  <div id="filesPanel" class="panel left-panel">
    <div class="panel-header">
      <h3>ğŸ“ Files</h3>
      <button class="icon-btn" onclick="createFile()" title="New File">+</button>
    </div>
    <div id="filesList" class="files-list"></div>
    <div class="panel-actions">
      <button onclick="gitImport()" title="Import from GitHub">â‡ Git Import</button>
      <button onclick="runSQL()" title="Run SQL Query">ğŸ—„ï¸ Database</button>
    </div>
  </div>

  <!-- Main Chat Area -->
  <div class="main-area">
    <!-- Header -->
    <header class="header">
      <button class="icon-btn mobile-only" onclick="toggleFiles()" title="Files">â˜°</button>
      <h1>AI</h1>
      <div class="header-actions">
        <button class="icon-btn" onclick="toggleSettings()" title="Settings">âš™ï¸</button>
        <button class="icon-btn" onclick="importProject()" title="Import">â†“</button>
        <button class="icon-btn" onclick="exportProject()" title="Export">â†‘</button>
        <button class="icon-btn" onclick="deployProject()" title="Deploy">âš¡</button>
        <button class="icon-btn mobile-only" onclick="togglePreview()" title="Preview">â—§</button>
      </div>
    </header>

    <!-- Chat Messages -->
    <div id="chatMessages" class="chat-messages">
      <div class="message assistant">
        <div class="message-icon">ğŸ¤–</div>
        <div class="message-content">Ready to build! Describe what you want to create.</div>
      </div>
    </div>

    <!-- Input Area -->
    <div class="input-area">
      <button class="icon-btn" onclick="attachFile()" title="Attach files">ğŸ“</button>
      <textarea 
        id="userInput" 
        placeholder="Ask AI to build something..." 
        onkeydown="handleKeyPress(event)"
        rows="1"
      ></textarea>
      <button class="send-btn" onclick="sendMessage()">â¤</button>
    </div>
  </div>

  <!-- Preview Panel (Right) -->
  <div id="previewPanel" class="panel right-panel">
    <div class="panel-header">
      <span>Preview</span>
      <div class="panel-controls">
        <button class="icon-btn" onclick="toggleExpandPreview()" title="Expand">â›¶</button>
        <button class="icon-btn" onclick="refreshPreview()" title="Refresh">â†»</button>
      </div>
    </div>
    
    <div class="preview-tabs">
      <button class="tab-btn active" onclick="setPreviewTab('live')">Live</button>
      <button class="tab-btn" onclick="setPreviewTab('html')">HTML</button>
      <button class="tab-btn" onclick="setPreviewTab('css')">CSS</button>
      <button class="tab-btn" onclick="setPreviewTab('js')">JS</button>
      <button class="tab-btn" onclick="setPreviewTab('console')">Console</button>
    </div>
    
    <div class="preview-content">
      <div id="livePreview">
        <iframe id="preview" sandbox="allow-scripts allow-modals"></iframe>
      </div>
      <pre id="htmlCode" class="code-view" style="display:none"></pre>
      <pre id="cssCode" class="code-view" style="display:none"></pre>
      <pre id="jsCode" class="code-view" style="display:none"></pre>
      <div id="consoleView" class="console-view" style="display:none">
        <div id="consoleOutput"></div>
        <button onclick="clearConsole()">Clear Console</button>
      </div>
    </div>
    
    <div id="errorBanner" class="error-banner" style="display:none"></div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>âš™ï¸ Settings</h3>
        <button onclick="closeSettings()">âœ•</button>
      </div>
      
      <div class="setting-group">
        <label>AI Provider</label>
        <select id="providerSelect" onchange="updateModelOptions()">
          <option value="groq">Groq (Fast)</option>
          <option value="anthropic">Claude</option>
          <option value="openai">OpenAI</option>
          <option value="gemini">Gemini</option>
        </select>
      </div>
      
      <div class="setting-group">
        <label>Model</label>
        <select id="modelSelect"></select>
      </div>
      
      <div class="setting-group">
        <label>Streaming</label>
        <input type="checkbox" id="streamToggle" checked>
        <span>Enable real-time streaming</span>
      </div>
      
      <div class="setting-group">
        <label>GitHub Token (optional)</label>
        <input type="password" id="githubToken" placeholder="ghp_...">
      </div>
      
      <button class="save-btn" onclick="saveSettings()">Save Settings</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
